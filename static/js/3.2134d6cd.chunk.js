(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{316:function(e,t,a){e.exports=a.p+"static/media/user-logo.845a0d1f.png"},317:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){e.exports={item:"Post_item__13Kb8"}},324:function(e,t,a){},325:function(e,t,a){e.exports={profile__avatar:"MyAvatar_profile__avatar__28g9k",avatar:"MyAvatar_avatar__3QpsI",btn__file:"MyAvatar_btn__file__386Ro",contacts__list:"MyAvatar_contacts__list__21MVp"}},326:function(e,t,a){e.exports={profile__bg:"MyBackground_profile__bg__1U34S"}},327:function(e,t,a){e.exports=a.p+"static/media/user-bg.70a63b4a.jpg"},328:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(26),l=a(28),i=a(27),s=a(0),c=a.n(s),o=a(321),u=a.n(o),m=a(322),d=a.n(m),p=a(323),f=a.n(p);var v=function(e){var t=e.message,a=e.likesCount;return c.a.createElement("div",{className:f.a.item},c.a.createElement("img",{src:"https://www.asdorural.com/upload/resize_cache/iblock/23a/1170_1063_2/23ad1cde8221351dc15fcb631d1a89cd.png",alt:""}),c.a.createElement("span",null,t),c.a.createElement("div",null,"like ",a))},E=a(324),b=a.n(E),g=a(42);var _=function(e){var t=e.addPost;return c.a.createElement("div",{className:b.a.post__send},c.a.createElement(g.b,{onSubmit:function(e){t(e.newPostText)},render:function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},c.a.createElement(g.a,{component:"textarea",name:"newPostText",rows:4,cols:50}),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-warning"},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))}}))};var h=function(e){var t=e.profilePage,a=e.addPost;return c.a.createElement("div",{className:d.a.profile__posts},c.a.createElement(_,{addPost:a}),t.postsData.map((function(e){return c.a.createElement(v,{key:"postKey_"+e.id,postId:e.id,message:e.message,likesCount:e.likesCount})})))},y=a(16),k=a(53),N=Object(y.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){var a=Object(k.a)(t);e(a)}}}))(h),P=a(316),O=a.n(P),j=a(325),I=a.n(j);var w=function(e){var t=e.userProfile,a=e.saveUserAvatar,n=e.isOwner;return c.a.createElement("div",{className:I.a.profile__avatar},c.a.createElement("div",{className:I.a.avatar},c.a.createElement("img",{src:t.photos.large||O.a,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),n&&c.a.createElement("div",{className:"input-group"},c.a.createElement("span",{className:'file-input btn btn-outline-secondary btn-sm" '.concat(I.a.btn__file)},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440...",c.a.createElement("input",{type:"file",onChange:function(e){if(e.target.files.length){var t=e.target.files[0];a(t)}}})))))},A=a(326),M=a.n(A),F=a(327),S=a.n(F);var x=function(){return c.a.createElement("div",{className:M.a.profile__bg},c.a.createElement("img",{src:S.a,alt:"\u0424\u043e\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}))},C=a(39);var U=a(72);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,l=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return a}}(e,t)||Object(U.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a(328);var T=function(e){var t=e.status,a=e.updateStatus,n=e.isOwner,r=J(c.a.useState(!1),2),l=r[0],i=r[1],s=J(c.a.useState(t),2),o=s[0],u=s[1];return c.a.useEffect((function(){u(t)}),[t]),c.a.createElement("div",{className:"profileStatus"},c.a.createElement(c.a.Fragment,null,!l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,"Status: "),c.a.createElement("span",{onClick:n?function(){i(!0)}:null},o||"-----"))),c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("b",null,"Status: "),c.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.target.value)},onBlur:function(){i(!1),a(o)},value:o}))))};a(317);var D=function(e){var t=e.userProfile;return c.a.createElement("div",{className:"avatar__description"},c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"Full name: ")),c.a.createElement("span",{className:"avatar__descriptionText"},t.fullName)),c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"About me: ")),c.a.createElement("span",{className:"avatar__descriptionText"},t.aboutMe||"Hello, its me single page")),t.lookingForAJob&&c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"lookingForAJobDescription: ")),c.a.createElement("span",{className:"avatar__descriptionText"},t.lookingForAJobDescription)),Object.values(t.contacts).filter((function(e){return e})).length>0&&c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"Contacts:")),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{className:"avatar__descriptionList",key:e},t.contacts[e]&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,c.a.createElement("b",null,e,": ")),c.a.createElement("span",{className:"avatar__descriptionText"},t.contacts[e])))}))))},z=a(6),L=a.n(z),B=a(52),K=a(10);var R=function(e){var t=e.userProfile,a=e.saveProfile,n=e.toggleEditMode,r=function(){var e=Object(K.a)(L.a.mark((function e(t){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:if(!0===(r=e.sent)){e.next=7;break}return r=(r=r[0].split("->").slice(-1))[0].substring(0,r[0].length-1).toLowerCase(),e.abrupt("return",{contacts:Object(B.a)({},r,"Invalid URL format")});case 7:n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(g.b,{initialValues:t,onSubmit:r,render:function(e){var a=e.handleSubmit,n=e.submitting,r=e.pristine,l=e.values;return c.a.createElement("form",{onSubmit:a},c.a.createElement("div",{className:"avatar__description"},c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"Full name: ")),c.a.createElement(g.a,{name:"fullName",render:function(e){var t=e.input;e.meta;return c.a.createElement("input",Object.assign({},t,{placeholder:"Full name"}))}})),c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"About me: ")),c.a.createElement(g.a,{name:"aboutMe",render:function(e){var t=e.input;e.meta;return c.a.createElement("input",Object.assign({},t,{placeholder:"About me"}))}})),c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"lookingForAJob: ")),c.a.createElement(g.a,{name:"lookingForAJob",render:function(e){var t=e.input;return c.a.createElement("input",Object.assign({},t,{type:"checkbox",checked:!!t.value&&t.value}))}})),c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"lookingForAJobDescription: ")),c.a.createElement(g.a,{name:"lookingForAJobDescription",render:function(e){var t=e.input;return c.a.createElement("input",Object.assign({},t,{placeholder:"Description for a job",disabled:!l.lookingForAJob}))}})),c.a.createElement("div",{className:"avatar__descriptionItem"},c.a.createElement("h3",null,c.a.createElement("b",null,"Contacts:")),Object.keys(t.contacts).map((function(e){return c.a.createElement("div",{className:"avatar__descriptionList",key:e},c.a.createElement("h4",null,c.a.createElement("b",null,e,": ")),c.a.createElement(g.a,{name:"contacts.".concat(e),render:function(t){var a=t.input,n=t.meta;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",Object.assign({},a,{placeholder:e,className:n.submitError&&"input__error"})),n.submitError&&c.a.createElement("span",null," ",n.submitError," "))}}))})))),c.a.createElement("button",{className:"btn btn-outline-secondary btn-sm",disabled:n||r},"save"))}})},V=a(75),H=function(e){var t=e.isAuth,a=e.match,n=e.sendMessage,r=e.userProfile,l=e.status,i=e.updateStatus,s=e.isFetching,o=e.saveUserAvatar,m=e.isOwner,d=e.toggleEditMode,p=e.editMode,f=e.saveProfile;return c.a.createElement(c.a.Fragment,null,!r||s?c.a.createElement(C.a,null):c.a.createElement("div",{className:u.a.profile},c.a.createElement(x,null),c.a.createElement("div",{className:u.a.profile__body},c.a.createElement(w,{userProfile:r,saveUserAvatar:o,isOwner:m}),c.a.createElement(T,{status:l,updateStatus:i,isOwner:m}),m&&c.a.createElement("button",{className:"btn btn-outline-secondary btn-sm",onClick:d},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),p?c.a.createElement(R,{userProfile:r,saveProfile:f,toggleEditMode:d}):c.a.createElement(D,{userProfile:r}),t&&!m&&c.a.createElement(V.a,{sendMessage:n,userId:a.params.userId}),m&&c.a.createElement(N,null))))},Q=a(24),q=a(9),G=function(e){return e.profilePage.userProfile},W=function(e){return e.profilePage.status},X=function(e){return e.profilePage.isFetching},Y=a(35),Z=a(54),$=a(19),ee=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={editMode:!1},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e}return Object(r.a)(a,[{key:"loadProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authoraizedUserId)?(this.props.getProfileUserThunkCreator(e),this.props.getProfileStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.loadProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.loadProfile(),this.props.authoraizedUserId!==e.authoraizedUserId&&this.loadProfile()}},{key:"render",value:function(){return c.a.createElement(H,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,toggleEditMode:this.toggleEditMode,editMode:this.state.editMode}))}}]),a}(c.a.Component),te={getProfileUserThunkCreator:k.d,getProfileStatus:k.c,updateStatus:k.g,toggleIsFetching:Z.f,saveUserAvatar:k.f,saveProfile:k.e,sendMessage:$.f};t.default=Object(Q.d)(q.g,Object(y.b)((function(e){return{userProfile:G(e),status:W(e),isAuth:Object(Y.b)(e),authoraizedUserId:Object(Y.d)(e),isFetching:X(e)}}),te))(ee)}}]);
//# sourceMappingURL=3.2134d6cd.chunk.js.map