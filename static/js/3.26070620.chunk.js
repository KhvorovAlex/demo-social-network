(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{317:function(e,t,a){e.exports=a.p+"static/media/user-logo.845a0d1f.png"},318:function(e,t,a){},323:function(e,t,a){e.exports={profile__body:"Profile_profile__body__1cMUY"}},324:function(e,t,a){e.exports={posts:"MyPosts_posts__1lUoP"}},325:function(e,t,a){e.exports={item:"Post_item__13Kb8"}},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){e.exports={profile__bg:"MyBackground_profile__bg__1U34S"}},329:function(e,t,a){e.exports=a.p+"static/media/user-bg.86a893b3.jpg"},330:function(e,t,a){},334:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a(27),l=a(29),s=a(28),i=a(0),o=a.n(i),c=a(323),u=a.n(c),m=a(324),d=a.n(m),p=a(325),f=a.n(p);var v=function(e){var t=e.message,a=e.likesCount;return o.a.createElement("div",{className:f.a.item},o.a.createElement("img",{src:"https://www.asdorural.com/upload/resize_cache/iblock/23a/1170_1063_2/23ad1cde8221351dc15fcb631d1a89cd.png",alt:""}),o.a.createElement("span",null,t),o.a.createElement("div",null,"like ",a))},E=a(326),b=a.n(E),g=a(43);var h=function(e){var t=e.addPost;return o.a.createElement("div",{className:b.a.post__send},o.a.createElement(g.b,{onSubmit:function(e){return t(e.newPostText),e.newPostText=""},render:function(e){var t=e.handleSubmit;return o.a.createElement("form",{onSubmit:t},o.a.createElement(g.a,{component:"textarea",name:"newPostText",rows:4,cols:50}),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary"},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))}}))};var _=function(e){var t=e.profilePage,a=e.addPost;return o.a.createElement("div",{className:d.a.profile__posts},o.a.createElement(h,{addPost:a}),o.a.createElement("div",{className:d.a.posts},t.postsData.map((function(e){return o.a.createElement(v,{key:"postKey_"+e.id,postId:e.id,message:e.message,likesCount:e.likesCount})}))))},y=a(17),P=a(53),N=Object(y.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){var a=Object(P.a)(t);e(a)}}}))(_),k=a(317),O=a.n(k);a(327);var j=function(e){var t=e.userProfile,a=e.saveUserAvatar,n=e.isOwner;return o.a.createElement("div",{className:"profile__avatar"},o.a.createElement("div",{className:"avatar"},o.a.createElement("div",{className:"avatar__img"},o.a.createElement("img",{src:t.photos.large||O.a,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})),n&&o.a.createElement("div",{className:"input-group"},o.a.createElement("span",{className:"file-input btn btn-outline-secondary btn-sm btn__file"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440...",o.a.createElement("input",{type:"file",onChange:function(e){if(e.target.files.length){var t=e.target.files[0];a(t)}}})))))},w=a(328),I=a.n(w),F=a(329),S=a.n(F);var M=function(){return o.a.createElement("div",{className:I.a.profile__bg},o.a.createElement("img",{src:S.a,alt:"\u0424\u043e\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}))},A=a(40);var x=a(72);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(o){r=!0,l=o}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}}(e,t)||Object(x.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a(330);var C=function(e){var t=e.status,a=e.updateStatus,n=e.isOwner,r=U(o.a.useState(!1),2),l=r[0],s=r[1],i=U(o.a.useState(t),2),c=i[0],u=i[1];return o.a.useEffect((function(){u(t)}),[t]),o.a.createElement("div",{className:"profileStatus"},o.a.createElement(o.a.Fragment,null,!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"Status: "),o.a.createElement("span",{onClick:n?function(){s(!0)}:null},c||"-----"))),o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"Status: "),o.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.target.value)},onBlur:function(){s(!1),a(c)},value:c}))))};a(318);var J=function(e){var t=e.userProfile;return o.a.createElement("div",{className:"avatar__description"},o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"Full name: ")),o.a.createElement("span",{className:"avatar__descriptionText"},t.fullName)),o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"About me: ")),o.a.createElement("span",{className:"avatar__descriptionText"},t.aboutMe||"Hello, its me single page")),t.lookingForAJob&&o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"lookingForAJobDescription: ")),o.a.createElement("span",{className:"avatar__descriptionText"},t.lookingForAJobDescription)),Object.values(t.contacts).filter((function(e){return e})).length>0&&o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"Contacts:")),Object.keys(t.contacts).map((function(e){return o.a.createElement("div",{className:"avatar__descriptionList",key:e},t.contacts[e]&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,o.a.createElement("b",null,e,": ")),o.a.createElement("span",{className:"avatar__descriptionText"},t.contacts[e])))}))))},T=a(6),D=a.n(T),z=a(52),L=a(10);var B=function(e){var t=e.userProfile,a=e.saveProfile,n=e.toggleEditMode,r=function(){var e=Object(L.a)(D.a.mark((function e(t){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:if(!0===(r=e.sent)){e.next=7;break}return r=(r=r[0].split("->").slice(-1))[0].substring(0,r[0].length-1).toLowerCase(),e.abrupt("return",{contacts:Object(z.a)({},r,"Invalid URL format")});case 7:n();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(g.b,{initialValues:t,onSubmit:r,render:function(e){var a=e.handleSubmit,n=e.submitting,r=e.pristine,l=e.values;return o.a.createElement("form",{onSubmit:a},o.a.createElement("div",{className:"avatar__description"},o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"Full name: ")),o.a.createElement(g.a,{name:"fullName",render:function(e){var t=e.input;e.meta;return o.a.createElement("input",Object.assign({},t,{placeholder:"Full name"}))}})),o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"About me: ")),o.a.createElement(g.a,{name:"aboutMe",render:function(e){var t=e.input;e.meta;return o.a.createElement("input",Object.assign({},t,{placeholder:"About me"}))}})),o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"lookingForAJob: ")),o.a.createElement(g.a,{name:"lookingForAJob",render:function(e){var t=e.input;return o.a.createElement("input",Object.assign({},t,{type:"checkbox",checked:!!t.value&&t.value}))}})),o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"lookingForAJobDescription: ")),o.a.createElement(g.a,{name:"lookingForAJobDescription",render:function(e){var t=e.input;return o.a.createElement("input",Object.assign({},t,{placeholder:"Description for a job",disabled:!l.lookingForAJob}))}})),o.a.createElement("div",{className:"avatar__descriptionItem"},o.a.createElement("h3",null,o.a.createElement("b",null,"Contacts:")),Object.keys(t.contacts).map((function(e){return o.a.createElement("div",{className:"avatar__descriptionList",key:e},o.a.createElement("h4",null,o.a.createElement("b",null,e,": ")),o.a.createElement(g.a,{name:"contacts.".concat(e),render:function(t){var a=t.input,n=t.meta;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",Object.assign({},a,{placeholder:e,className:n.submitError&&"input__error"})),n.submitError&&o.a.createElement("span",null," ",n.submitError," "))}}))})))),o.a.createElement("button",{className:"btn btn-outline-secondary btn-sm",disabled:n||r},"save"))}})},K=a(75),H=function(e){var t=e.isAuth,a=e.match,n=e.sendMessage,r=e.userProfile,l=e.status,s=e.updateStatus,i=e.isFetching,c=e.saveUserAvatar,m=e.isOwner,d=e.toggleEditMode,p=e.editMode,f=e.saveProfile;return o.a.createElement(o.a.Fragment,null,!r||i?o.a.createElement(A.a,null):o.a.createElement("div",{className:u.a.profile},o.a.createElement(M,null),o.a.createElement("div",{className:u.a.profile__body},o.a.createElement(j,{userProfile:r,saveUserAvatar:c,isOwner:m}),o.a.createElement(C,{status:l,updateStatus:s,isOwner:m}),m&&o.a.createElement("button",{className:"btn btn-outline-secondary btn-sm",onClick:d},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),p?o.a.createElement(B,{userProfile:r,saveProfile:f,toggleEditMode:d}):o.a.createElement(J,{userProfile:r}),t&&!m&&o.a.createElement(K.a,{sendMessage:n,userId:a.params.userId}),m&&o.a.createElement(N,null))))},R=a(25),V=a(9),Y=function(e){return e.profilePage.userProfile},q=function(e){return e.profilePage.status},G=function(e){return e.profilePage.isFetching},Q=a(36),W=a(54),X=a(20),Z=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={editMode:!1},e.toggleEditMode=function(){e.setState({editMode:!e.state.editMode})},e}return Object(r.a)(a,[{key:"loadProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authoraizedUserId)?(this.props.getProfileUserThunkCreator(e),this.props.getProfileStatus(e)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.loadProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.loadProfile(),this.props.authoraizedUserId!==e.authoraizedUserId&&this.loadProfile()}},{key:"render",value:function(){return o.a.createElement(H,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,toggleEditMode:this.toggleEditMode,editMode:this.state.editMode}))}}]),a}(o.a.Component),$={getProfileUserThunkCreator:P.d,getProfileStatus:P.c,updateStatus:P.g,toggleIsFetching:W.f,saveUserAvatar:P.f,saveProfile:P.e,sendMessage:X.f};t.default=Object(R.d)(V.g,Object(y.b)((function(e){return{userProfile:Y(e),status:q(e),isAuth:Object(Q.b)(e),authoraizedUserId:Object(Q.d)(e),isFetching:G(e)}}),$))(Z)}}]);
//# sourceMappingURL=3.26070620.chunk.js.map