{"version":3,"sources":["assets/img/user-logo.png","pages/Dialogs/DialogsUser/DialogsUser.jsx","pages/Dialogs/Dialogs.jsx","components/HOC/withAuthRedirect.js","pages/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogsUser","id","userName","photos","lastDialogActivityDate","lastUserActivityDate","className","to","src","small","userPhoto","alt","Dialogs","dialogsData","map","user","key","mapStateToPropsForRedirect","state","isAuth","auth","DialogsAPIContainer","this","props","getDialogs","isFetching","Preloader","React","Component","mapDispatchToProps","addMessage","compose","RedirectComponent","connect","dialogsMessage","getDialogsMessageSelector","getDialogsDataSelector","dialogsPage"],"mappings":"2GAAAA,EAAOC,QAAU,IAA0B,uC,kLC+B5BC,MA1Bf,YAA8F,IAAvEC,EAAsE,EAAtEA,GAAIC,EAAkE,EAAlEA,SAAUC,EAAwD,EAAxDA,OAAQC,EAAgD,EAAhDA,uBAAwBC,EAAwB,EAAxBA,qBACpE,OACC,yBAAKC,UAAU,iBACd,kBAAC,IAAD,CACCC,GAAI,YAAcN,EAClBK,UAAU,qBAEV,yBAAKA,UAAU,oBACd,yBAAKA,UAAU,YAAYE,IAAKL,EAAOM,MAAQN,EAAOM,MAAQC,IAAWC,IAAI,iBAG9E,yBAAKL,UAAU,qBACd,yBAAKA,UAAU,kBAAkBJ,GACjC,yBAAKI,UAAU,mBAAf,iIAC2B,8BAAOD,KAInC,yBAAKC,UAAU,qBACbF,MCJSQ,MAhBf,YAAmC,IAAhBC,EAAe,EAAfA,YAElB,OACC,yBAAKP,UAAU,WACd,wBAAIA,UAAU,kBAAd,0DAEA,yBAAKA,UAAU,kBACbO,EAAYC,KAAK,SAAAC,GAAI,OACrB,kBAAC,EAAD,eACEC,IAAK,UAAYD,EAAKd,IAClBc,U,uBCVLE,EAA6B,SAACC,GAAD,MAAY,CAC9CC,OAAQD,EAAME,KAAKD,S,wBCIdE,E,kLAGJC,KAAKC,MAAMC,YAAW,K,+BAItB,OAAIF,KAAKC,MAAME,WACP,kBAACC,EAAA,EAAD,MAED,kBAAC,EAAYJ,KAAKC,W,GAVOI,IAAMC,WAoBlCC,EAAqB,CAC1BC,eACAN,gBAKcO,uBD5BiB,SAACH,GAAe,IAEzCI,EAFwC,uKAI5C,OAAKV,KAAKC,MAAMJ,OAET,kBAACS,EAAcN,KAAKC,OAFI,kBAAC,IAAD,CAAUhB,GAAG,eAJA,GAEdoB,IAAMC,WAQtC,OAAOK,YAAQhB,EAARgB,CAAoCD,KCoB3CC,aAfuB,SAACf,GAAD,MAAY,CACnCgB,eAAgBC,YAA0BjB,GAC1CL,YAAauB,YAAuBlB,GACpCO,WAAYP,EAAMmB,YAAYZ,cAYLI,GAFXE,CAGbV","file":"static/js/4.139e99fb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user-logo.845a0d1f.png\";","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport userPhoto from '../../../assets/img/user-logo.png'\r\nimport './DialogsUser.css'\r\n\r\nfunction DialogsUser({ id, userName, photos, lastDialogActivityDate, lastUserActivityDate }) {\t\r\n\treturn (\r\n\t\t<div className=\"dialogs__item\">\r\n\t\t\t<NavLink \r\n\t\t\t\tto={'/dialogs/' + id}\r\n\t\t\t\tclassName=\"dialogs__itemBody\"\r\n\t\t\t>\r\n\t\t\t\t<div className=\"dialogs__itemImg\">\r\n\t\t\t\t\t<img className=\"item__img\" src={photos.small ? photos.small : userPhoto} alt=\"user avatar\"/>\r\n\t\t\t\t</div>\t\r\n\r\n\t\t\t\t<div className=\"dialogs__itemText\">\r\n\t\t\t\t\t<div className=\"text__userName\">{userName}</div>\r\n\t\t\t\t\t<div className=\"text__lastVisit\">\r\n\t\t\t\t\t\tПоследний раз был в сети: <span>{lastUserActivityDate}</span>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"dialogs__itemDate\">\r\n\t\t\t\t\t{lastDialogActivityDate}\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogsUser\r\n","import React from 'react'\r\nimport './Dialogs.css'\r\nimport DialogsUser from './DialogsUser/DialogsUser'\r\n\r\nfunction Dialogs({ dialogsData }) {\r\n\r\n\treturn (\r\n\t\t<div className=\"dialogs\">\r\n\t\t\t<h2 className=\"dialogs__title\">Сообщения</h2>\t\r\n\t\t\t\r\n\t\t\t<div className=\"dialogs__items\">\r\n\t\t\t\t{dialogsData.map( user => \r\n\t\t\t\t\t<DialogsUser\r\n\t\t\t\t\t\t\tkey={'userId_' + user.id}\r\n\t\t\t\t\t\t\t{...user}/>)}\r\n\t\t\t</div>\t\t\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender () {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n\t\t\treturn <Component {...this.props}/>\r\n\t\t}\r\n\t} \r\n\r\n\treturn connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React from 'react'\r\nimport Dialogs from './Dialogs'\r\nimport { addMessage, getDialogs } from './../../redux/dialogs-reducer'\r\nimport { withAuthRedirect } from '../../components/HOC/withAuthRedirect'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { getDialogsMessageSelector, getDialogsDataSelector } from '../../redux/dialogs-selector'\r\nimport Preloader from '../../components/Preloader/Preloader'\r\n\r\nclass DialogsAPIContainer extends React.Component {\t\r\n\r\n\tcomponentDidMount(){\t\t\r\n\t\tthis.props.getDialogs(false)\t\t\r\n\t}\r\n\r\n\trender(){\r\n\t\tif (this.props.isFetching) {\r\n\t\t\treturn <Preloader />\r\n\t\t}\r\n\t\treturn <Dialogs {...this.props} />\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tdialogsMessage: getDialogsMessageSelector(state),\r\n\tdialogsData: getDialogsDataSelector(state),\r\n\tisFetching: state.dialogsPage.isFetching\t\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\taddMessage,\r\n\tgetDialogs\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n\twithAuthRedirect,\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(DialogsAPIContainer)"],"sourceRoot":""}