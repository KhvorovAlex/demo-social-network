{"version":3,"sources":["assets/img/user-logo.png","components/Pagination/Pagination.jsx","pages/Users/User/User.jsx","pages/Users/Users.jsx","redux/users-selector.js","pages/Users/UsersContainer.jsx"],"names":["module","exports","Pagination","totalCountUsers","pageSize","currentPage","onChangePage","pageRangeDisplayed","totalPages","Math","ceil","pages","showPages","i","push","className","onClick","aria-label","aria-hidden","map","page","key","User","user","requestInProgress","follow","unfollow","to","id","src","photos","small","userPhoto","alt","name","status","followed","disabled","some","type","Users","props","users","u","getUsersSelector","state","usersPage","getPageSizeSelector","getTotalCountUsersSelector","getCurrentPageSelector","getIsFetchingSelector","isFetching","getRequestInProgressSelector","UsersAPIComponent","onChangePageThunkCreator","this","getUsersThunkCreator","Preloader","followThunkCreator","unfollowThunkCreator","toggleInRequestProgress","React","Component","mapDispatchToProps","compose","connect"],"mappings":"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","file":"static/js/5.8980c81e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user-logo.845a0d1f.png\";","import React from 'react'\r\nimport './Pagination.css'\r\n\r\nfunction Pagination({ totalCountUsers, pageSize, currentPage, onChangePage, pageRangeDisplayed }) {\r\n\r\n\tconst totalPages = Math.ceil(totalCountUsers / pageSize)\r\n\tlet pages = []\r\n\tlet showPages = currentPage + (pageRangeDisplayed - 3)\r\n\r\n\tif (currentPage === 1) {\r\n\t\tshowPages = 5\r\n\t\tfor (let i = currentPage; i <= showPages; i++ ) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t} else if (currentPage === 2) {\r\n\t\tshowPages = 5\r\n\t\tfor (let i = currentPage - 1; i <= showPages; i++ ) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t} else if (currentPage > 2 && currentPage < totalPages - 1) {\r\n\t\tfor (let i = currentPage - 2; i <= showPages; i++ ) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t} else if (currentPage === totalPages) {\t\r\n\t\tshowPages = totalPages\r\n\t\tfor (let i = currentPage - 4; i <= showPages; i++ ) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t} else if (currentPage === totalPages - 1) {\t\r\n\t\tshowPages = totalPages\r\n\t\tfor (let i = currentPage - 3; i <= showPages; i++ ) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav className=\"paginator\">\r\n\t\t\t<ul className=\"pagination\">\r\n\r\n\t\t\t\t{currentPage !== 1 && \r\n\t\t\t\t\t<li \r\n\t\t\t\t\t\tonClick={() => onChangePage(1)}\r\n\t\t\t\t\t\tclassName=\"page-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"page-link\" aria-label=\"Previous\">\r\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&laquo;</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{pages.map( page => \r\n\t\t\t\t\t<li \r\n\t\t\t\t\t\tkey={page}\r\n\t\t\t\t\t\tclassName={currentPage === page ? \"page-item active\" : \"page-item\"}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span \r\n\t\t\t\t\t\t\tclassName=\"page-link\"\t\t\t\t\r\n\t\t\t\t\t\t\tonClick={ () => onChangePage(page) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</li>\t\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{currentPage !== totalPages && \r\n\t\t\t\t\t<li \r\n\t\t\t\t\t\tonClick={() => onChangePage(totalPages)}\r\n\t\t\t\t\t\tclassName=\"page-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"page-link\" aria-label=\"Next\">\r\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&raquo;</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t}\t\r\n\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport userPhoto from '../../../assets/img/user-logo.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './User.css'\r\n\r\nfunction User({ user, requestInProgress, follow, unfollow }) {\r\n\treturn (\r\n\t\t<div className=\"user\">\r\n\t\t\t<div className=\"user_avatar\">\r\n\t\t\t\t<NavLink to={'/profile/' + user.id} >\r\n\t\t\t\t\t<img \r\n\t\t\t\t\t\tclassName=\"avatar_img\"\r\n\t\t\t\t\t\tsrc={user.photos.small ? user.photos.small : userPhoto} \r\n\t\t\t\t\t\talt={user.name}/>\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"user_body\">\r\n\t\t\t\t\t<div className=\"user_name\">\r\n\t\t\t\t\t\t<span><b>Name: </b> {user.name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{user.status && \r\n\t\t\t\t\t\t<div className=\"user_status\">\r\n\t\t\t\t\t\t\t<span><b>status: </b>{user.status}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t\t{user.followed \r\n\t\t\t\t?   <button\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisabled={requestInProgress.some(id => id === user.id)} \r\n\t\t\t\t\t\tonClick={() => {unfollow(user.id)}}\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-secondary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUNFOLLOW\r\n\t\t\t\t\t</button>\t\t\t\t\t\t\r\n\t\t\t\t:   <button\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tdisabled={requestInProgress.some(id => id === user.id)} \r\n\t\t\t\t\t\tonClick={() => {follow(user.id)}}\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFOLLOW\r\n\t\t\t\t\t</button>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport Pagination from '../../components/Pagination/Pagination'\r\nimport User from './User/User'\r\n\r\nfunction Users (props) {\r\n\treturn (\r\n\t\t<div>\t\t\r\n\t\t\t\r\n\t\t\t{props.users.map( u =>\r\n\t\t\t\t<User \r\n\t\t\t\t\tuser={u} \r\n\t\t\t\t\trequestInProgress={props.requestInProgress}\r\n\t\t\t\t\tunfollow={props.unfollow}\t\r\n\t\t\t\t\tfollow={props.follow}\r\n\t\t\t\t\tkey={u.id}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<Pagination \r\n\t\t\t\ttotalCountUsers={props.totalCountUsers} \r\n\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\tcurrentPage={props.currentPage}\r\n\t\t\t\tonChangePage={props.onChangePage}\r\n\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t/>\r\n\r\n\t\t</div>\r\n\t)\r\n\t\r\n}\r\n\r\nexport default Users\r\n","export const getUsersSelector = (state) => {\r\n\treturn state.usersPage.users\r\n}\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n\treturn state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalCountUsersSelector = (state) => {\r\n\treturn state.usersPage.totalCountUsers\r\n}\r\n\r\nexport const getCurrentPageSelector = (state) => {\r\n\treturn state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingSelector = (state) => {\r\n\treturn state.usersPage.isFetching\r\n}\r\n\r\nexport const getRequestInProgressSelector = (state) => {\r\n\treturn state.usersPage.requestInProgress\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport Users from './Users'\r\nimport { toggleInRequestProgress, getUsersThunkCreator, onChangePageThunkCreator, unfollowThunkCreator, followThunkCreator } from '../../redux/users-reducer'\r\nimport Preloader from '../../components/Preloader/Preloader'\r\nimport { getUsersSelector, getRequestInProgressSelector, getIsFetchingSelector, getPageSizeSelector, getTotalCountUsersSelector, getCurrentPageSelector } from '../../redux/users-selector'\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n\tcomponentDidMount(){\r\n\t\tconst {currentPage, pageSize} = this.props\r\n\t\tthis.props.getUsersThunkCreator(currentPage, pageSize)\r\n\t}\r\n\r\n\tonChangePage = (page) => {\r\n\t\tthis.props.onChangePageThunkCreator(page, this.props.pageSize)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.props.isFetching \r\n\t\t\t\t\t? <Preloader />\r\n\t\t\t\t\t: <Users totalCountUsers={this.props.totalCountUsers}\r\n\t\t\t\t\t\t\t pageSize={this.props.pageSize}\r\n\t\t\t\t\t\t\t currentPage={this.props.currentPage}\r\n\t\t\t\t\t\t\t users={this.props.users}\r\n\t\t\t\t\t\t\t onChangePage={this.onChangePage}\r\n\t\t\t\t\t\t\t follow={this.props.followThunkCreator}\r\n\t\t\t\t\t\t\t unfollow={this.props.unfollowThunkCreator}\r\n\t\t\t\t\t\t\t requestInProgress={this.props.requestInProgress}\r\n\t\t\t\t\t\t\t toggleInRequestProgress={this.props.toggleInRequestProgress}/>\r\n\t\t\t\t}\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: getUsersSelector(state),\r\n\tpageSize: getPageSizeSelector(state),\r\n\ttotalCountUsers: getTotalCountUsersSelector(state),\r\n\tcurrentPage: getCurrentPageSelector(state),\r\n\tisFetching: getIsFetchingSelector(state),\r\n\trequestInProgress: getRequestInProgressSelector(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\ttoggleInRequestProgress,\r\n\tgetUsersThunkCreator,\r\n\tonChangePageThunkCreator,\r\n\tunfollowThunkCreator,\r\n\tfollowThunkCreator\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n)(UsersAPIComponent)"],"sourceRoot":""}