{"version":3,"sources":["components/Form/ErrorLogin/ErrorLogin.jsx","components/Form/LoginForm/LoginForm.jsx","pages/Login/Login.jsx","pages/Login/LoginContainer.jsx"],"names":["ErrorLogin","errorText","className","LoginForm","loginUser","captcha","onSubmit","value","a","email","password","remember","FORM_ERROR","required","undefined","validate","values","errors","render","handleSubmit","submitting","submitError","name","type","input","meta","placeholder","error","touched","src","alt","disabled","Login","isAuth","to","mapDispatchToProps","connect","state","getIsAuthSelector","getCaptchaSelector"],"mappings":"qPAWeA,MARf,YAAoC,IAAdC,EAAa,EAAbA,UACrB,OACC,yBAAKC,UAAU,eACd,0BAAMA,UAAU,qBAAqBD,K,gBCoFzBE,MArFf,YAA4C,IAAvBC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,QAEzBC,EAAQ,uCAAG,WAAOC,GAAP,uBAAAC,EAAA,6DACTC,EAAsCF,EAAtCE,MAAOC,EAA+BH,EAA/BG,SAAUC,EAAqBJ,EAArBI,SAAUN,EAAWE,EAAXF,QADlB,SAEQD,EAAUK,EAAOC,EAAUC,EAAUN,GAF7C,YAEVJ,EAFU,gEAILW,IAAaX,IAJR,2CAAH,sDAmBRY,EAAW,SAAAN,GAAK,OAAOA,OAA6BO,EAArB,yFAErC,OACC,kBAAC,IAAD,CACCR,SAAUA,EACVS,SAhBiB,SAAAC,GAClB,IAAMC,EAAS,GAOf,OANKD,EAAOP,QACXQ,EAAOR,MAAQ,+KAEXO,EAAON,WACXO,EAAOP,SAAW,+KAEZO,GASNC,OAAQ,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,WAAYC,EAA7B,EAA6BA,YAA7B,OACP,0BAAMnB,UAAU,YAAYI,SAAUa,GACrC,kBAAC,IAAD,CAAOG,KAAK,QAAQC,KAAK,UACvB,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,yBAAKvB,UAAU,wBACd,2CAAWsB,EAAX,CAAkBE,YAAY,WAC7BD,EAAKE,OAASF,EAAKG,SAAW,0BAAM1B,UAAU,yBAAyBuB,EAAKE,WAKhF,kBAAC,IAAD,CAAOL,KAAK,WAAWC,KAAK,aAC1B,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,yBAAKvB,UAAU,wBACd,2CAAWsB,EAAX,CAAkBE,YAAY,cAC7BD,EAAKE,OAASF,EAAKG,SAAW,0BAAM1B,UAAU,yBAAyBuB,EAAKE,WAKhF,kBAAC,IAAD,CAAOL,KAAK,WAAWC,KAAK,aAC1B,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,yBAAKvB,UAAU,wBACd,+BACC,0BAAWsB,GADZ,eAICC,EAAKE,OAASF,EAAKG,SAAW,0BAAM1B,UAAU,yBAAyBuB,EAAKE,WAK/EtB,GACA,yBAAKH,UAAU,sBACd,yBAAK2B,IAAKxB,EAASyB,IAAI,YACvB,kBAAC,IAAD,CAAOR,KAAK,UAAUC,KAAK,OAAOR,SAAUF,IAC1C,gBAAGW,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,6BACC,0BAAWD,GACVC,EAAKE,OAASF,EAAKG,SAAW,0BAAM1B,UAAU,yBAAyBuB,EAAKE,YAOlF,yBAAKzB,UAAU,4BACd,4BAAQA,UAAU,kBAAkBqB,KAAK,SAASQ,SAAUX,GAA5D,SAGCC,GAAe,kBAAC,EAAD,CAAYpB,UAAWoB,U,OCzD9BW,MAnBf,YAAgD,IAA/B5B,EAA8B,EAA9BA,UAAW6B,EAAmB,EAAnBA,OAAQ5B,EAAW,EAAXA,QACnC,OACC,yBAAKH,UAAU,SACb+B,EACE,kBAAC,IAAD,CAAUC,GAAG,aACb,kBAAC,EAAD,CAAW9B,UAAWA,EAAWC,QAASA,IAE7C,yBAAKH,UAAU,eACd,wBAAIA,UAAU,oBAAd,0EACA,myBACA,8BAAM,yDACN,8BAAM,iD,gBCPJiC,EAAqB,CAC1B/B,eAGcgC,uBATS,SAACC,GAAD,MAAY,CACnCJ,OAAQK,YAAkBD,GAC1BhC,QAASkC,YAAmBF,MAOWF,EAAzBC,CAA6CJ","file":"static/js/6.e1ee4e9e.chunk.js","sourcesContent":["import React from 'react'\r\nimport './ErrorLogin.css'\r\n\r\nfunction ErrorLogin({ errorText }) {\r\n\treturn (\r\n\t\t<div className=\"error-login\">\r\n\t\t\t<span className=\"error-login__text\">{errorText}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ErrorLogin\r\n","import React from 'react'\r\nimport  ErrorLogin from '../ErrorLogin/ErrorLogin'\r\nimport { Form, Field } from 'react-final-form'\r\nimport { FORM_ERROR } from 'final-form'\r\n\r\nfunction LoginForm({ loginUser, captcha }) {\r\n\r\n\tconst onSubmit = async (value) => {\t\t\r\n\t\tconst {email, password, remember, captcha} = value\r\n\t\tconst errorText = await loginUser(email, password, remember, captcha)\t\r\n\t\tif(errorText) {\r\n\t\t\treturn { [FORM_ERROR]: errorText }\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tconst onValidate = values => {\t\r\n\t\tconst errors = {}\r\n\t\tif (!values.email) {\r\n\t\t\terrors.email = 'Поле обязательно для заполнения'\r\n\t\t}\r\n\t\tif (!values.password) {\r\n\t\t\terrors.password = 'Поле обязательно для заполнения'\r\n\t\t}\t\t\r\n\t\treturn errors\r\n\t}\r\n\r\n\tconst required = value => ( !value ? 'Заполните капчу' :  undefined)\r\n\r\n\treturn (\r\n\t\t<Form\r\n\t\t\tonSubmit={onSubmit}\r\n\t\t\tvalidate={onValidate}\r\n\t\t\trender={({ handleSubmit, submitting, submitError }) => (\r\n\t\t\t\t<form className=\"main-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Field name=\"email\" type=\"email\" >\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div className=\"main-form__inputBody\">\r\n\t\t\t\t\t\t\t\t<input {...input} placeholder=\"Email\"/>\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span className=\"main-form__inputError\">{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t<Field name=\"password\" type=\"password\">\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div className=\"main-form__inputBody\">\r\n\t\t\t\t\t\t\t\t<input {...input} placeholder=\"Password\"/>\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span className=\"main-form__inputError\">{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t<Field name=\"remember\" type=\"checkbox\">\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div className=\"main-form__inputBody\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t<input {...input} />\r\n\t\t\t\t\t\t\t\t\tRemember me\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span className=\"main-form__inputError\">{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t{captcha && \r\n\t\t\t\t\t\t<div className=\"main-form__captcha\">\r\n\t\t\t\t\t\t\t<img src={captcha} alt=\"captcha\"/>\r\n\t\t\t\t\t\t\t<Field name=\"captcha\" type=\"text\" validate={required}>\r\n\t\t\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<input {...input} />\r\n\t\t\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span className=\"main-form__inputError\">{meta.error}</span>}\r\n\t\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\r\n\r\n\t\t\t\t\t<div className=\"main-from__submitWrapper\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\" disabled={submitting}>\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{submitError && <ErrorLogin errorText={submitError}/>}\r\n\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default LoginForm\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport LoginForm from '../../components/Form/LoginForm/LoginForm'\r\n\r\nimport './Login.css'\r\n\r\nfunction Login({ loginUser, isAuth, captcha }) {\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t{isAuth \r\n\t\t\t\t? <Redirect to='/profile'/>\r\n\t\t\t\t: <LoginForm loginUser={loginUser} captcha={captcha}/>\r\n\t\t\t}\r\n\t\t\t<div className=\"login__info\">\r\n\t\t\t\t<h3 className=\"login__infoTitle\">Тестовые Email и Password</h3>\r\n\t\t\t\t<p>Вы можете воспользоваться данной социальной сетью, которая размещена на хостинге github. Регистрация не нужна! Просто введите данные тестового аккаунта:</p>\r\n\t\t\t\t<span><b>Email: free@samuraijs.com</b></span>\r\n\t\t\t\t<span><b>Password: free</b></span>\r\n\t\t\t</div>\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Login\r\n","import { loginUser } from '../../redux/auth-reducer'\r\nimport Login from './Login'\r\nimport { connect } from 'react-redux'\r\nimport { getIsAuthSelector, getCaptchaSelector } from '../../redux/auth-selector'\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: getIsAuthSelector(state),\r\n\tcaptcha: getCaptchaSelector(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\tloginUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n"],"sourceRoot":""}