{"version":3,"sources":["components/Form/ErrorLogin/ErrorLogin.jsx","pages/Login/Login.jsx","pages/Login/LoginContainer.jsx"],"names":["ErrorLogin","errorText","className","LoginForm","props","onSubmit","value","a","email","password","remember","loginUser","FORM_ERROR","validate","values","errors","render","handleSubmit","submitting","submitError","name","type","placeholder","input","meta","error","touched","disabled","Login","isAuth","to","mapDispatchToProps","logoutUser","connect","state","getIsAuthSelector"],"mappings":"iPAWeA,MARf,YAAoC,IAAdC,EAAa,EAAbA,UACrB,OACC,yBAAKC,UAAU,eACd,0BAAMA,UAAU,qBAAqBD,KCWxC,IAAME,EAAY,SAACC,GAElB,IAAMC,EAAQ,uCAAG,WAAOC,GAAP,qBAAAC,EAAA,6DACTC,EAA6BF,EAA7BE,MAAOC,EAAsBH,EAAtBG,SAAUC,EAAYJ,EAAZI,SADR,SAEQN,EAAMO,UAAUH,EAAOC,EAAUC,GAFzC,YAEVT,EAFU,gEAILW,IAAaX,IAJR,2CAAH,sDAmBd,OACC,kBAAC,IAAD,CACCI,SAAUA,EACVQ,SAdiB,SAAAC,GAClB,IAAMC,EAAS,GAOf,OANKD,EAAON,QACXO,EAAOP,MAAQ,+KAEXM,EAAOL,WACXM,EAAON,SAAW,+KAEZM,GAONC,OAAQ,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,WAAYC,EAA7B,EAA6BA,YAA7B,OACP,0BAAMjB,UAAU,YAAYG,SAAUY,GACrC,kBAAC,IAAD,CAAOG,KAAK,QAAQC,KAAK,QAAQC,YAAY,UAC3C,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,6BACC,0BAAWD,GACVC,EAAKC,OAASD,EAAKE,SAAW,8BAAOF,EAAKC,WAK9C,kBAAC,IAAD,CAAOL,KAAK,WAAWC,KAAK,WAAWC,YAAY,aACjD,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,6BACC,0BAAWD,GACVC,EAAKC,OAASD,EAAKE,SAAW,8BAAOF,EAAKC,WAK9C,kBAAC,IAAD,CAAOL,KAAK,WAAWC,KAAK,aAC1B,gBAAGE,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACA,6BACC,0BAAWD,GACX,8CACCC,EAAKC,OAASD,EAAKE,SAAW,8BAAOF,EAAKC,WAK9C,4BAAQJ,KAAK,SAASM,SAAUT,GAAhC,SAICC,GAAe,kBAAC,EAAD,CAAYlB,UAAWkB,SAO7BS,EA7Ef,SAAexB,GACd,OACC,6BACEA,EAAMyB,OACJ,kBAAC,IAAD,CAAUC,GAAG,aACb,kBAAC,EAAD,CAAWnB,UAAWP,EAAMO,c,gBCF5BoB,EAAqB,CAC1BpB,cACAqB,gBAGcC,uBATS,SAACC,GAAD,MAAY,CACnCL,OAAQM,YAAkBD,MAQaH,EAAzBE,CAA6CL","file":"static/js/7.45f23e70.chunk.js","sourcesContent":["import React from 'react'\r\nimport './ErrorLogin.css'\r\n\r\nfunction ErrorLogin({ errorText }) {\r\n\treturn (\r\n\t\t<div className=\"error-login\">\r\n\t\t\t<span className=\"error-login__text\">{errorText}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ErrorLogin\r\n","import React from 'react'\r\nimport { Form, Field } from 'react-final-form'\r\nimport { FORM_ERROR } from 'final-form'\r\nimport { Redirect } from 'react-router-dom'\r\nimport ErrorLogin from '../../components/Form/ErrorLogin/ErrorLogin'\r\n\r\nfunction Login(props) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{props.isAuth \r\n\t\t\t\t? <Redirect to='/profile'/>\r\n\t\t\t\t: <LoginForm loginUser={props.loginUser}/>\r\n\t\t\t}\t\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n\r\n\tconst onSubmit = async (value) => {\r\n\t\tconst {email, password, remember} = value\r\n\t\tconst errorText = await props.loginUser(email, password, remember)\t\r\n\t\tif(errorText) {\r\n\t\t\treturn { [FORM_ERROR]: errorText }\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tconst onValidate = values => {\t\r\n\t\tconst errors = {}\r\n\t\tif (!values.email) {\r\n\t\t\terrors.email = 'Поле обязательно для заполнения'\r\n\t\t}\r\n\t\tif (!values.password) {\r\n\t\t\terrors.password = 'Поле обязательно для заполнения'\r\n\t\t}\t\r\n\t\treturn errors\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form\r\n\t\t\tonSubmit={onSubmit}\r\n\t\t\tvalidate={onValidate}\r\n\t\t\trender={({ handleSubmit, submitting, submitError }) => (\r\n\t\t\t\t<form className=\"main-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Field name=\"email\" type=\"email\" placeholder=\"Email\">\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input {...input} />\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span>{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t<Field name=\"password\" type=\"password\" placeholder=\"Password\">\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input {...input} />\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span>{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t<Field name=\"remember\" type=\"checkbox\">\r\n\t\t\t\t\t\t{({ input, meta }) => (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<input {...input} />\r\n\t\t\t\t\t\t\t\t<label>Remember me</label>\r\n\t\t\t\t\t\t\t\t{meta.error && meta.touched && <span>{meta.error}</span>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Field>\r\n\r\n\t\t\t\t\t<button type=\"submit\" disabled={submitting}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{submitError && <ErrorLogin errorText={submitError}/>}\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Login\r\n","import { loginUser, logoutUser } from '../../redux/auth-reducer'\r\nimport Login from './Login'\r\nimport { connect } from 'react-redux'\r\nimport { getIsAuthSelector } from '../../redux/auth-selector'\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: getIsAuthSelector(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\tloginUser,\r\n\tlogoutUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n"],"sourceRoot":""}