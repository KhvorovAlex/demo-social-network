{"version":3,"sources":["api/api.js","redux/auth-reducer.js","redux/app-reducer.js","components/Nav/Nav.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","App.js","serviceWorker.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-selector.js","components/Header/Header.module.css","components/Preloader/Preloader.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/users-reducer.js","assets/img/logo.png","components/Nav/Nav.module.css"],"names":["axiosInst","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUserProfile","userId","console","warn","profileAPI","getProfile","followUser","post","unfollowUser","delete","getStatus","editStatus","newStatus","put","status","authAPI","me","login","email","password","rememberMe","logout","initialState","id","isAuth","setUserData","type","getAuthUserData","dispatch","a","resultCode","loginUser","messages","logoutUser","authReducer","state","action","init","appReducer","Nav","className","css","main_nav","item","to","item_link","activeClassName","active","Header","header__logo","src","logo","alt","login_block","onClick","HeaderContainer","this","props","React","Component","mapDispatchToProps","connect","getIsAuthSelector","getLoginSelector","DialogsContainer","lazy","UsersContainer","Music","ProfileContainer","LoginContainer","App","initApp","col","Suspense","fallback","path","component","Preloader","promise","Promise","all","compose","withRouter","app","Boolean","window","location","hostname","match","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","auth","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","renderEntireTree","ReactDOM","render","document","getElementById","subscribe","navigator","serviceWorker","ready","registration","unregister","catch","error","message","getUserIdSelector","module","exports","ADD_POST","SET_PROFILE_USER","SET_STATUS","DELETE_POST","postsData","likesCount","userProfile","addPostActionCreator","newPostText","setStatus","profileStatus","getProfileUserThunkCreator","getProfileStatus","updateStatus","filter","postId","ADD_DIALOG","dialogsData","name","dialogsMessage","addDialogActionCreator","newMessageBody","FOLLOW","UNFOLLOW","SET_USERS","users","totalCountUsers","isFetching","requestInProgress","follow","unfollow","setUsers","setTotalCountUsers","count","toggleIsFetching","toggleInRequestProgress","isRequest","getUsersThunkCreator","items","totalCount","onChangePageThunkCreator","currrentPage","unfollowThunkCreator","followThunkCreator","map","u","followed"],"mappings":"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","file":"static/js/main.5b8776cf.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst axiosInst = axios.create({\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '5ba345f8-29a4-4d9f-83bf-efaa59c593a9'\r\n\t}\r\n})\r\n\r\nexport const usersAPI = {\r\n\t\r\n\tgetUsers(currentPage = 1, pageSize = 10){\r\n\t\treturn axiosInst\r\n\t\t\t\t.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t\t.then(response => response.data)\r\n\t},\r\n\r\n\tgetUserProfile(userId){\r\n\t\tconsole.warn('Этот метод устаревший, используйте более новый метод из profileAPI')\r\n\t\treturn profileAPI.getProfile(userId)\r\n\t},\r\n\r\n\tfollowUser(userId){\r\n\t\treturn axiosInst\r\n\t\t\t\t.post(`follow/${userId}`)\r\n\t\t\t\t.then(response => response.data)\r\n\t},\r\n\t\r\n\tunfollowUser(userId){\r\n\t\treturn axiosInst\r\n\t\t\t\t.delete(`follow/${userId}`)\r\n\t\t\t\t.then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId){\r\n\t\treturn axiosInst.get(`profile/${userId}`)\r\n\t\t\t\t.then(response => response.data)\r\n\t},\r\n\r\n\tgetStatus(userId){\r\n\t\treturn axiosInst.get(`profile/status/${userId}`)\r\n\t},\r\n\r\n\teditStatus(newStatus){\r\n\t\treturn axiosInst.put(`profile/status`, {status: newStatus})\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n\tme(){\r\n\t\treturn axiosInst\r\n\t\t\t\t.get(`auth/me`)\r\n\t\t\t\t.then(response => response.data)\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe){\r\n\t\treturn axiosInst.post(`auth/login`, {email, password, rememberMe})\r\n\t},\r\n\r\n\tlogout(){\r\n\t\treturn axiosInst.delete(`auth/login`)\r\n\t}\r\n}\r\n\r\n\r\n\r\n","import { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setUserData = (id, login, email, isAuth = true) => ({type: SET_USER_DATA, data: {id, login, email, isAuth}})\r\n\r\nexport const getAuthUserData = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await authAPI.me()\t\t\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tconst {id, login, email} = response.data\r\n\t\t\tdispatch(setUserData(id, login, email))\r\n\t\t}\t\t\r\n\t}\r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe = false) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await authAPI.login(email, password, rememberMe)\r\n\t\tif (response.data.resultCode !== 0) {\r\n\t\t\treturn response.data.messages\r\n\t\t} else {\r\n\t\t\tdispatch(getAuthUserData())\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const logoutUser = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await authAPI.logout()\t\t\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setUserData(null, null, null, false))\r\n\t\t}\t\r\n\t}\r\n}\r\n\r\nexport default authReducer","import { getAuthUserData } from \"./auth-reducer\"\r\n\r\nconst INIT_SUCCESS = 'INIT_SUCCESS'\r\n\r\nlet initialState = {\r\n\tinit: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INIT_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinit: true\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setInit = () => ({type: INIT_SUCCESS})\r\n\r\nexport const initApp = () => (dispatch) => {\r\n\tconst promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise])\r\n\t\t.then(() => {\r\n\t\t\tdispatch(setInit())\r\n\t\t})\r\n\t\r\n}\r\n\r\nexport default appReducer","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport css from './Nav.module.css'\r\n\r\nfunction Nav() {\r\n\treturn (\r\n\t\t<nav className={css.main_nav}>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/profile\" \r\n\t\t\t\t\tclassName={css.item_link}\r\n\t\t\t\t\tactiveClassName={css.active}>\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto=\"/dialogs\" \r\n\t\t\t\t\tclassName={css.item_link} \r\n\t\t\t\t\tactiveClassName={css.active}>\r\n\t\t\t\t\tMessages\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto='/' \r\n\t\t\t\t\tclassName={css.item_link}>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto='/music' \r\n\t\t\t\t\tclassName={css.item_link}>\r\n\t\t\t\t\tMusic\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink \r\n\t\t\t\t\tto='/' \r\n\t\t\t\t\tclassName={css.item_link}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={css.item}>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tto='/users'\r\n\t\t\t\t\tactiveClassName={css.active}\r\n\t\t\t\t\tclassName={css.item_link}>\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t</nav>\t\r\n\t)\r\n}\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport css from  './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport logo from './../../assets/img/logo.png'\r\n\r\nfunction Header({ isAuth, login, logoutUser }) {\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<NavLink to=\"/\" className={css.header__logo}>\r\n\t\t\t\t<img src={logo} alt=\"logo\"/>\r\n\t\t\t</NavLink>\r\n\t\t\t<div className={css.login_block}>\r\n\t\t\t\t{isAuth\r\n\r\n\t\t\t\t\t?   <div>\r\n\t\t\t\t\t\t\t<NavLink to={'/profile'}>{login}</NavLink> \r\n\t\t\t\t\t\t\t\t--- \r\n\t\t\t\t\t\t\t<button onClick={logoutUser}>LOGOUT</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t:   <NavLink to='/login'>\r\n\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport Header from './Header'\r\nimport { logoutUser } from '../../redux/auth-reducer'\r\nimport { connect } from 'react-redux'\r\nimport { getIsAuthSelector, getLoginSelector } from '../../redux/auth-selector'\r\n\r\nclass HeaderContainer extends React.Component {\t\r\n\r\n\trender(){\r\n\t\treturn <Header {...this.props} />\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: getIsAuthSelector(state),\r\n\tlogin: getLoginSelector(state)\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n\tlogoutUser\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer)\r\n","import React from 'react'\nimport { Container, Row, Col } from 'bootstrap-4-react'\nimport { Route, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { initApp } from './redux/app-reducer'\n\nimport './App.css'\n\nimport Nav from './components/Nav/Nav'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Preloader from './components/Preloader/Preloader'\n\nconst DialogsContainer = React.lazy(() => import('./pages/Dialogs/DialogsContainer'))\nconst UsersContainer = React.lazy(() => import('./pages/Users/UsersContainer'))\nconst Music = React.lazy(() => import('./pages/Music/Music'))\nconst ProfileContainer = React.lazy(() => import('./pages/Profile/ProfileContainer'))\nconst LoginContainer = React.lazy(() => import('./pages/Login/LoginContainer'))\n\nclass App extends React.Component{\n\n\tcomponentDidMount(){\n\t\tthis.props.initApp()\n\t}\n\n\trender(){\n\n\t\tif (!this.props.init) {\n\t\t\treturn <Preloader />\n\t\t}\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\n\t\t\t\t<Row>\n\t\t\t\t\t<Col col=\"md-4\">\n\t\t\t\t\t\t<Nav />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col col=\"md-8\">\n\t\t\t\t\t\t<React.Suspense fallback={<div>Загрузка...</div>}>\n\t\t\t\t\t\t\t<Route path='/profile/:userId?' component={ProfileContainer}/>\n\t\t\t\t\t\t\t<Route path='/dialogs' component={DialogsContainer}/>\n\t\t\t\t\t\t\t<Route path='/users' component={UsersContainer}/>\n\t\t\t\t\t\t\t<Route path='/login' component={LoginContainer}/>\n\t\t\t\t\t\t\t<Route path='/music/:musicName?' component={Music}/>\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</React.Suspense>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\n\t\t\t</Container>\n\t\t)\n\t}\t\n}\n\nconst mapStateToProps = (state) => ({\n\tinit: state.app.init\n})\n\nconst mapDispatchToProps = {\n\tinitApp\n}\n\nexport default compose (\n\twithRouter,\n\tconnect(mapStateToProps, mapDispatchToProps)\n)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state\r\n}\r\n\r\nexport default sidebarReducer","import { createStore, combineReducers, applyMiddleware, compose  } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport appReducer from './app-reducer'\r\nimport authReducer from './auth-reducer'\r\n\r\nconst reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport store from './redux/redux-store'\nimport { Provider } from 'react-redux'\n\n\nconst renderEntireTree = (store) => {\n\tReactDOM.render(\t\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</BrowserRouter>,\n\t\tdocument.getElementById('root')\n\t)\n}\n\nrenderEntireTree(store)\n\nstore.subscribe(() => {\n\trenderEntireTree(store)\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const getIsAuthSelector = (state) => {\r\n\treturn state.auth.isAuth\r\n}\r\n\r\nexport const getUserIdSelector = (state) => {\r\n\treturn state.auth.id\r\n}\r\n\r\nexport const getLoginSelector = (state) => {\r\n\treturn state.auth.login\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__logo\":\"Header_header__logo__1ETZb\",\"login_block\":\"Header_login_block__3dzPh\"};","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nfunction Preloader() {\r\n\treturn <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n}\r\n\r\nexport default Preloader\r\n","import { usersAPI, profileAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = 'profile-reducer/ADD_POST'\r\nconst SET_PROFILE_USER = 'profile-reducer/SET_PROFILE_USER_POST'\r\nconst SET_STATUS = 'profile-reducer/SET_STATUS'\r\nconst DELETE_POST = 'profile-reducer/DELETE_POST'\r\n\r\nlet initialState = {\r\n\tpostsData: [\r\n\t\t{id: 1, message: 'Привет, как дела?', likesCount: 10},\r\n\t\t{id: 2, message: 'Я отправил тебе пропсы', likesCount: 2},\r\n\t\t{id: 3, message: 'Попробуй прочитай', likesCount: 15},\r\n\t],\r\n\tuserProfile: null,\r\n\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase ADD_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: [...state.postsData, {id: 5, message: action.newPostText, likesCount: 0}]\r\n\t\t\t}\r\n\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: state.postsData.filter( post => post.id !== action.postId )\r\n\t\t\t}\r\n\r\n\t\tcase SET_PROFILE_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state, userProfile: action.userProfile\r\n\t\t\t}\r\n\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, status: action.profileStatus\r\n\t\t\t}\r\n\t\t\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePostActionCreator = (postId) => ({type: DELETE_POST, postId})\r\nexport const setProfileUser = (userProfile) => ({type: SET_PROFILE_USER, userProfile})\r\nexport const setStatus = (profileStatus) => ({type: SET_STATUS, profileStatus})\r\n\r\nexport const getProfileUserThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await usersAPI.getUserProfile(userId)\t\r\n\t\tdispatch(setProfileUser(response))\r\n\t}\r\n}\r\n\r\nexport const getProfileStatus = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await profileAPI.getStatus(userId)\r\n\t\tdispatch(setStatus(response.data))\t\t\r\n\t}\r\n}\r\n\r\nexport const updateStatus = (newStatus) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await profileAPI.editStatus(newStatus)\r\n\t\tif (response.data.resultCode === 0) {\r\n\t\t\tdispatch(setStatus(newStatus))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default profileReducer","const ADD_DIALOG = 'dialogs-reducer/ADD-DIALOG'\r\n\r\nlet initialState = {\r\n\tdialogsData: [\r\n\t\t{name: 'Димыч', id: 1},\r\n\t\t{name: 'Андрей', id: 2},\r\n\t\t{name: 'Валера', id: 3},\r\n\t\t{name: 'Вадос', id: 4},\r\n\t\t{name: 'Света', id: 5},\r\n\t],\r\n\tdialogsMessage: [\r\n\t\t{id: 1, message: 'Хах'},\r\n\t\t{id: 2, message: 'Как дела Мэн?'},\r\n\t\t{id: 3, message: 'Ты чего молчишь друже?'},\r\n\t\t{id: 4, message: 'Ну и ладно... я пошел гулять один'},\r\n\t]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase ADD_DIALOG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdialogsMessage: [...state.dialogsMessage, {id: 5, message: action.newMessageBody}]\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\r\n\t}\r\n}\r\n\r\nexport const addDialogActionCreator = (newMessageBody) => {\r\n\treturn {\r\n\t\ttype: ADD_DIALOG,\r\n\t\tnewMessageBody: newMessageBody\r\n\t}\r\n}\r\n\r\nexport default dialogsReducer","import { usersAPI } from \"../api/api\"\r\n\r\nconst FOLLOW = 'users-reducer/FOLLOW'\r\nconst UNFOLLOW = 'users-reducer/UNFOLLOW'\r\nconst SET_USERS = 'users-reducer/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'users-reducer/SET_CURRENT_PAGE'\r\nconst SET_TOTAL_COUNT_USERS = 'users-reducer/SET_TOTAL_COUNT_USERS'\r\nconst TOGGLE_IS_FETCHING = 'users-reducer/TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IN_REQUEST_PROGRESS = 'users-reducer/TOGGLE_IN_REQUEST_PROGRESS'\r\n\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 20, //число отображаемых пользователей\r\n\ttotalCountUsers: 0, //общее число пользователей в БД\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\trequestInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map( u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn {...u, followed: true}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map( u => {\r\n\t\t\t\t\tif (u.id === action.userId) {\r\n\t\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, users: action.users\r\n\t\t\t}\r\n\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state, currentPage: action.currrentPage\r\n\t\t\t}\r\n\r\n\t\tcase SET_TOTAL_COUNT_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, totalCountUsers: action.count\r\n\t\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state, isFetching: action.isFetching\r\n\t\t\t}\r\n\r\n\t\tcase TOGGLE_IN_REQUEST_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\trequestInProgress: action.isRequest \r\n\t\t\t\t\t? [...state.requestInProgress, action.userId]\r\n\t\t\t\t\t: state.requestInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\r\n\t}\r\n}\r\n\r\nexport const follow = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollow = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currrentPage) => ({type: SET_CURRENT_PAGE, currrentPage})\r\nexport const setTotalCountUsers = (count) => ({type: SET_TOTAL_COUNT_USERS, count})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleInRequestProgress = (isRequest, userId) => ({type: TOGGLE_IN_REQUEST_PROGRESS, isRequest, userId})\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst response = await usersAPI.getUsers(currentPage, pageSize)\t\t\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(response.items))\r\n\t\tdispatch(setTotalCountUsers(response.totalCount))\t\r\n\t}\r\n}\r\n\r\nexport const onChangePageThunkCreator = (currentPage, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(setCurrentPage(currentPage))\r\n\t\tdispatch(toggleIsFetching(true))\r\n\t\tconst response = await usersAPI.getUsers(currentPage, pageSize)\t\t\t\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(response.items))\r\n\t\tdispatch(setTotalCountUsers(response.totalCount))\t\r\n\t}\r\n}\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleInRequestProgress(true, userId))\r\n\t\tconst response = await usersAPI.unfollowUser(userId)\t\t\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(unfollow(userId))\r\n\t\t}\r\n\t\tdispatch(toggleInRequestProgress(false, userId))\t\r\n\t}\r\n}\r\n\r\nexport const followThunkCreator = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleInRequestProgress(true, userId))\r\n\t\tconst response = await usersAPI.followUser(userId)\t\r\n\t\tif (response.resultCode === 0) {\r\n\t\t\tdispatch(follow(userId))\r\n\t\t}\r\n\t\tdispatch(toggleInRequestProgress(false, userId))\r\n\t\r\n\t}\r\n}\r\n\r\nexport default usersReducer","module.exports = __webpack_public_path__ + \"static/media/logo.d51eb85f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_nav\":\"Nav_main_nav__1DmQD\",\"item\":\"Nav_item__96rLj\",\"item_link\":\"Nav_item_link__1p_Xk\",\"active\":\"Nav_active__XSt-p\"};"],"sourceRoot":""}